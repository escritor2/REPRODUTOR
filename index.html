<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Reprodutor Dark Web</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700;900&family=Share+Tech+Mono&display=swap');

  :root {
    /* Ultra Dark Web Blood Red Palette - EXTREME */
    --color-bg: #000000;
    --color-bg-alt: #020202;
    --color-bg-hover: #080000;
    --color-primary: #ff0000;
    --color-primary-dark: #660000;
    --color-secondary: #990000;
    --color-accent: #cc0000;
    --color-warning: #ff3300;
    --color-danger: #ff0000;
    --color-text: #ffaaaa;
    --color-text-dim: #220000;
    --color-border: #110000;
    --color-glow: rgba(255, 0, 0, 0.9);
    --color-shadow: rgba(255, 0, 0, 0.5);
    
    --radius: 0rem;
    --transition: 0.05s ease;
    --font-mono: 'Courier New', monospace;
    --font-display: 'Impact', monospace;
  }

  * {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    background: var(--color-bg);
    background-image: 
      radial-gradient(circle at 20% 50%, rgba(0, 255, 65, 0.1) 0%, transparent 50%),
      radial-gradient(circle at 80% 80%, rgba(255, 0, 128, 0.1) 0%, transparent 50%);
    color: var(--color-text);
    font-family: var(--font-mono);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    overflow-x: hidden;
  }

  header {
    position: sticky;
    top: 0;
    background: rgba(10, 10, 10, 0.9);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid var(--color-primary);
    box-shadow: 0 0 20px var(--color-glow);
    padding: 1.5rem 2rem;
    display: flex;
    align-items: center;
    gap: 2rem;
    z-index: 100;
  }

  header h1 {
    font-family: var(--font-display);
    font-weight: 900;
    font-size: 2.5rem;
    background: linear-gradient(45deg, var(--color-primary), var(--color-secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    animation: glow 2s ease-in-out infinite alternate;
  }

  @keyframes glow {
    from { text-shadow: 0 0 10px var(--color-glow); }
    to { text-shadow: 0 0 20px var(--color-glow), 0 0 30px var(--color-glow); }
  }

  .nav-btn {
    background: linear-gradient(45deg, var(--color-primary-dark), var(--color-primary));
    color: var(--color-bg);
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: var(--radius);
    font-family: var(--font-display);
    font-weight: 600;
    text-decoration: none;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    transition: all var(--transition);
    box-shadow: 0 0 10px var(--color-glow);
  }

  .nav-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 20px var(--color-glow);
  }

  main {
    flex: 1;
    max-width: 1200px;
    margin: 2rem auto;
    padding: 0 2rem;
    display: grid;
    gap: 2rem;
  }

  .input-container {
    display: flex;
    gap: 1.5rem;
    flex-wrap: wrap;
    justify-content: center;
  }

  .file-input-label, .directory-input-label {
    background: linear-gradient(45deg, var(--color-primary), var(--color-secondary));
    color: var(--color-bg);
    padding: 1rem 2rem;
    border: 1px solid var(--color-primary);
    border-radius: var(--radius);
    cursor: pointer;
    font-family: var(--font-display);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    transition: all var(--transition);
    position: relative;
    overflow: hidden;
  }

  .file-input-label:hover, .directory-input-label:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 20px var(--color-glow-secondary);
  }

  input[type="file"] {
    display: none;
  }

  .media-type-selector {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  .type-btn {
    background: var(--color-bg-alt);
    color: var(--color-text);
    border: 1px solid var(--color-border);
    padding: 0.75rem 1.5rem;
    border-radius: var(--radius);
    cursor: pointer;
    font-family: var(--font-display);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    transition: all var(--transition);
  }

  .type-btn.active {
    background: var(--color-primary);
    color: var(--color-bg);
    border-color: var(--color-primary);
    box-shadow: 0 0 15px var(--color-glow);
  }

  .search-container {
    max-width: 600px;
    margin: 0 auto;
  }

  .search-input {
    width: 100%;
    padding: 1rem;
    background: var(--color-bg-alt);
    border: 1px solid var(--color-border);
    border-radius: var(--radius);
    color: var(--color-text);
    font-family: var(--font-mono);
    font-size: 1rem;
    transition: all var(--transition);
  }

  .search-input:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 15px var(--color-glow);
  }

  .status-info {
    text-align: center;
    color: var(--color-text-dim);
    font-family: var(--font-mono);
    font-size: 1.1rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
  }

  .playlist {
    background: var(--color-bg-alt);
    border: 1px solid var(--color-border);
    border-radius: var(--radius);
    padding: 1.5rem;
    max-height: 400px;
    overflow-y: auto;
    display: grid;
    gap: 0.5rem;
    box-shadow: 0 0 20px var(--color-shadow);
  }

  .media-item {
    background: var(--color-bg);
    border: 1px solid var(--color-border);
    padding: 1rem;
    border-radius: var(--radius);
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 1rem;
    transition: all var(--transition);
  }

  .media-item:hover {
    border-color: var(--color-primary);
    box-shadow: 0 0 15px var(--color-glow);
    transform: translateX(5px);
  }

  .media-item.active {
    background: var(--color-primary);
    color: var(--color-bg);
    border-color: var(--color-primary);
    box-shadow: 0 0 20px var(--color-glow);
  }

  .media-icon {
    width: 1.5rem;
    height: 1.5rem;
    fill: var(--color-primary);
    transition: fill var(--transition);
  }

  .media-item.active .media-icon {
    fill: var(--color-bg);
  }

  .video-container {
    position: relative;
    width: 100%;
    max-width: 800px;
    margin: 0 auto;
    border: 1px solid var(--color-primary);
    border-radius: var(--radius);
    overflow: hidden;
    box-shadow: 0 0 30px var(--color-glow);
    display: none;
  }

  .video-container.active {
    display: block;
  }

  video {
    width: 100%;
    height: auto;
    display: block;
    background: #000;
  }

  .audio-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .audio-container.hidden {
    display: none;
  }

  .controls-container {
    background: var(--color-bg-alt);
    border: 1px solid var(--color-border);
    border-radius: var(--radius);
    padding: 2rem;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    box-shadow: 0 0 20px var(--color-shadow);
  }

  .shuffle-repeat-container {
    display: flex;
    gap: 1rem;
    justify-content: center;
  }

  .toggle-btn, .control-btn {
    background: var(--color-bg);
    color: var(--color-primary);
    border: 1px solid var(--color-primary);
    padding: 0.75rem;
    border-radius: 50%;
    cursor: pointer;
    font-size: 1.5rem;
    transition: all var(--transition);
    width: 3rem;
    height: 3rem;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .toggle-btn:hover, .control-btn:hover {
    background: var(--color-primary);
    color: var(--color-bg);
    box-shadow: 0 0 15px var(--color-glow);
    transform: scale(1.1);
  }

  .toggle-btn.active {
    background: var(--color-primary);
    color: var(--color-bg);
    box-shadow: 0 0 20px var(--color-glow);
  }

  .player-controls {
    display: flex;
    gap: 2rem;
    justify-content: center;
    align-items: center;
  }

  .player-info {
    text-align: center;
    color: var(--color-primary);
    font-family: var(--font-display);
    font-weight: 600;
    font-size: 1.2rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
  }

  .progress-container {
    max-width: 600px;
    margin: 0 auto;
  }

  .progress-bar {
    width: 100%;
    height: 6px;
    background: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: 3px;
    cursor: pointer;
    position: relative;
    overflow: hidden;
  }

  .progress-filled {
    height: 100%;
    background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
    width: 0%;
    border-radius: 3px;
    transition: width 0.1s linear;
    box-shadow: 0 0 10px var(--color-glow);
  }

  .time-display {
    display: flex;
    justify-content: space-between;
    color: var(--color-text);
    font-family: var(--font-mono);
    margin-top: 0.5rem;
  }

  .volume-container {
    display: flex;
    align-items: center;
    gap: 1rem;
    max-width: 200px;
    margin: 0 auto;
  }

  .volume-slider {
    width: 100%;
    height: 6px;
    background: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: 3px;
    outline: none;
    cursor: pointer;
  }

  .volume-slider::-webkit-slider-thumb {
    appearance: none;
    width: 20px;
    height: 20px;
    background: var(--color-primary);
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 0 10px var(--color-glow);
  }

  .volume-icon {
    color: var(--color-primary);
    font-size: 1.5rem;
    cursor: pointer;
  }

  .video-controls {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
    padding: 1rem;
    opacity: 0;
    transition: opacity var(--transition);
  }

  .video-container:hover .video-controls {
    opacity: 1;
  }

  .video-controls button {
    background: rgba(0, 0, 0, 0.5);
    color: var(--color-primary);
    border: 1px solid var(--color-primary);
    padding: 0.5rem;
    border-radius: var(--radius);
    cursor: pointer;
    margin: 0 0.5rem;
    transition: all var(--transition);
  }

  .video-controls button:hover {
    background: var(--color-primary);
    color: var(--color-bg);
    box-shadow: 0 0 10px var(--color-glow);
  }

  .fullscreen-btn {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: rgba(0, 255, 65, 0.2);
    color: var(--color-primary);
    border: 1px solid var(--color-primary);
    padding: 0.5rem;
    border-radius: var(--radius);
    cursor: pointer;
    transition: all var(--transition);
  }

  .fullscreen-btn:hover {
    background: var(--color-primary);
    color: var(--color-bg);
    box-shadow: 0 0 15px var(--color-glow);
  }

  @media (max-width: 768px) {
    header {
      flex-direction: column;
      gap: 1rem;
      text-align: center;
    }

    header h1 {
      font-size: 2rem;
    }

    .input-container {
      flex-direction: column;
      align-items: stretch;
    }

    .player-controls {
      flex-direction: column;
      gap: 1rem;
    }

    .media-type-selector {
      flex-direction: column;
    }

    .type-btn {
      text-align: center;
    }
  }
</style>
</head>
<body>
<header>
  <h1>DARK WEB PLAYER</h1>
  <a href="index.html" class="nav-btn">VOLTAR</a>
</header>

<main>
  <div class="input-container">
    <label class="file-input-label" for="file-input" tabindex="0">
      [+] CARREGAR ARQUIVOS
    </label>
    <input type="file" id="file-input" multiple accept="audio/*,video/*" />
    
    <label class="directory-input-label" for="directory-input" tabindex="0">
      [+] CARREGAR PASTA
    </label>
    <input type="file" id="directory-input" webkitdirectory accept="audio/*,video/*" />
  </div>

  <div class="media-type-selector">
    <button class="type-btn active" data-type="all">[TODOS]</button>
    <button class="type-btn" data-type="audio">[ÁUDIO]</button>
    <button class="type-btn" data-type="video">[VÍDEO]</button>
  </div>

  <div class="search-container">
    <input type="text" id="search-input" class="search-input" placeholder="[BUSCAR MÍDIAS...]" />
  </div>

  <div class="status-info" id="status-info">[0 MÍDIAS CARREGADAS]</div>
  
  <section class="playlist" id="playlist"></section>

  <div class="video-container" id="video-container">
    <video id="video" preload="metadata">
      [ERRO: NAVEGADOR INCOMPATÍVEL]
    </video>
    <button class="fullscreen-btn" id="fullscreen-btn" title="TELA CHEIA">⛶</button>
    <div class="video-controls">
      <button id="video-play-pause">▶</button>
      <button id="video-prev">⏮</button>
      <button id="video-next">⏭</button>
      <input type="range" id="video-volume" min="0" max="1" step="0.1" value="1">
    </div>
  </div>

  <div class="audio-container" id="audio-container">
    <div class="controls-container">
      <div class="shuffle-repeat-container">
        <button id="shuffle-btn" class="toggle-btn" title="ALEATÓRIO">🔀</button>
        <button id="repeat-btn" class="toggle-btn" title="REPETIR">🔁</button>
      </div>

      <div class="progress-container">
        <div class="progress-bar" id="progress-bar">
          <div class="progress-filled" id="progress-filled"></div>
        </div>
        <div class="time-display">
          <span id="current-time">[0:00]</span>
          <span id="duration">[0:00]</span>
        </div>
      </div>

      <div class="volume-container">
        <span id="volume-icon" class="volume-icon">🔊</span>
        <input type="range" id="volume-slider" class="volume-slider" min="0" max="1" step="0.01" value="1">
      </div>

      <div class="player-controls">
        <button class="control-btn" id="prev-btn" disabled>⏮</button>
        <button class="control-btn" id="play-pause-btn" disabled>▶</button>
        <button class="control-btn" id="next-btn" disabled>⏭</button>
      </div>
      
      <div class="player-info" id="player-info">[NENHUMA MÍDIA SELECIONADA]</div>
    </div>
  </div>

  <audio id="audio" preload="metadata"></audio>
</main>

<script>
(() => {
  'use strict';

  const fileInput = document.getElementById('file-input');
  const directoryInput = document.getElementById('directory-input');
  const playlistEl = document.getElementById('playlist');
  const audio = document.getElementById('audio');
  const video = document.getElementById('video');
  const videoContainer = document.getElementById('video-container');
  const audioContainer = document.getElementById('audio-container');
  const playPauseBtn = document.getElementById('play-pause-btn');
  const videoPlayPauseBtn = document.getElementById('video-play-pause');
  const prevBtn = document.getElementById('prev-btn');
  const videoPrevBtn = document.getElementById('video-prev');
  const nextBtn = document.getElementById('next-btn');
  const videoNextBtn = document.getElementById('video-next');
  const playerInfo = document.getElementById('player-info');
  const statusInfo = document.getElementById('status-info');
  const progressBar = document.getElementById('progress-bar');
  const progressFilled = document.getElementById('progress-filled');
  const currentTimeEl = document.getElementById('current-time');
  const durationEl = document.getElementById('duration');
  const volumeSlider = document.getElementById('volume-slider');
  const videoVolumeSlider = document.getElementById('video-volume');
  const volumeIcon = document.getElementById('volume-icon');
  const shuffleBtn = document.getElementById('shuffle-btn');
  const repeatBtn = document.getElementById('repeat-btn');
  const searchInput = document.getElementById('search-input');
  const fullscreenBtn = document.getElementById('fullscreen-btn');
  const typeBtns = document.querySelectorAll('.type-btn');

  let mediaFiles = [];
  let currentIndex = -1;
  let isPlaying = false;
  let isShuffle = false;
  let isRepeat = false;
  let shuffledOrder = [];
  let currentType = 'all';
  let isMuted = false;
  let lastVolume = 1;

  const audioExtensions = ['mp3', 'wav', 'ogg', 'flac', 'aac', 'm4a', 'wma'];
  const videoExtensions = ['mp4', 'webm', 'ogg', 'avi', 'mov', 'mkv', 'flv', 'wmv'];

  function getFileType(filename) {
    const extension = filename.split('.').pop().toLowerCase();
    if (audioExtensions.includes(extension)) return 'audio';
    if (videoExtensions.includes(extension)) return 'video';
    return 'unknown';
  }

  function createMediaElement(file, index) {
    const mediaEl = document.createElement('div');
    mediaEl.className = 'media-item';
    mediaEl.setAttribute('role', 'listitem');
    mediaEl.tabIndex = 0;
    mediaEl.dataset.index = index;
    mediaEl.dataset.type = getFileType(file.name);

    const iconSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
    iconSvg.setAttribute('viewBox', '0 0 24 24');
    iconSvg.classList.add('media-icon');
    
    const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
    const fileType = getFileType(file.name);
    
    if (fileType === 'audio') {
      path.setAttribute('d', 'M12 3v10.55A4 4 0 1 0 14 17V7h4V3h-6z');
    } else if (fileType === 'video') {
      path.setAttribute('d', 'M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.89 2 2 2h16c1.1 0 2-.9 2-2V4h-4z');
    }
    
    iconSvg.appendChild(path);
    mediaEl.appendChild(iconSvg);

    const fileName = document.createElement('span');
    fileName.textContent = `[${file.name.replace(/\.[^/.]+$/, "")}]`;
    mediaEl.appendChild(fileName);

    mediaEl.addEventListener('click', () => {
      loadMedia(index);
      playMedia();
    });

    return mediaEl;
  }

  function renderPlaylist() {
    playlistEl.innerHTML = '';
    const filteredFiles = currentType === 'all' 
      ? mediaFiles 
      : mediaFiles.filter(file => getFileType(file.name) === currentType);

    filteredFiles.forEach((file, idx) => {
      const originalIndex = mediaFiles.indexOf(file);
      const mediaEl = createMediaElement(file, originalIndex);
      
      if (originalIndex === currentIndex) {
        mediaEl.classList.add('active');
      }
      
      mediaEl.classList.remove('hidden');
      playlistEl.appendChild(mediaEl);
    });
    
    updateStatusInfo();
  }

  function loadMedia(index) {
    if (index < 0 || index >= mediaFiles.length) return;
    currentIndex = index;
    const file = mediaFiles[index];
    const fileURL = URL.createObjectURL(file);
    const fileType = getFileType(file.name);

    if (fileType === 'audio') {
      showAudioPlayer();
      audio.src = fileURL;
      video.pause();
    } else if (fileType === 'video') {
      showVideoPlayer();
      video.src = fileURL;
      audio.pause();
    }

    updateActiveMedia();
    updatePlayerInfo(`[SELECIONADO: ${file.name.replace(/\.[^/.]+$/, "")}]`);
    updateControls();
  }

  function showAudioPlayer() {
    videoContainer.classList.remove('active');
    audioContainer.classList.remove('hidden');
  }

  function showVideoPlayer() {
    videoContainer.classList.add('active');
    audioContainer.classList.add('hidden');
  }

  function updateActiveMedia() {
    const mediaElements = playlistEl.querySelectorAll('.media-item');
    mediaElements.forEach((el) => {
      const index = parseInt(el.dataset.index);
      el.classList.toggle('active', index === currentIndex);
    });
  }

  function playMedia() {
    if (currentIndex === -1) return;
    
    const fileType = getFileType(mediaFiles[currentIndex].name);
    
    if (fileType === 'audio') {
      audio.play()
        .then(() => {
          isPlaying = true;
          playPauseBtn.innerHTML = '⏸';
          videoPlayPauseBtn.innerHTML = '⏸';
          updatePlayerInfo(`[REPRODUZINDO: ${mediaFiles[currentIndex].name.replace(/\.[^/.]+$/, "")}]`);
        })
        .catch(error => {
          console.error("[ERRO]:", error);
        });
    } else if (fileType === 'video') {
      video.play()
        .then(() => {
          isPlaying = true;
          playPauseBtn.innerHTML = '⏸';
          videoPlayPauseBtn.innerHTML = '⏸';
          updatePlayerInfo(`[REPRODUZINDO: ${mediaFiles[currentIndex].name.replace(/\.[^/.]+$/, "")}]`);
        })
        .catch(error => {
          console.error("[ERRO]:", error);
        });
    }
    
    updateControls();
  }

  function pauseMedia() {
    isPlaying = false;
    audio.pause();
    video.pause();
    playPauseBtn.innerHTML = '▶';
    videoPlayPauseBtn.innerHTML = '▶';
    updatePlayerInfo(`[PAUSADO: ${mediaFiles[currentIndex].name.replace(/\.[^/.]+$/, "")}]`);
    updateControls();
  }

  function updateControls() {
    prevBtn.disabled = currentIndex <= 0 && !isShuffle;
    nextBtn.disabled = currentIndex >= mediaFiles.length - 1 && !isShuffle;
    shuffleBtn.classList.toggle('active', isShuffle);
<thinking>
The attempt to overwrite the entire media-player.html file failed due to the large size and the system expecting a diff-based edit format. The system requires edits to be done using SEARCH/REPLACE blocks for partial changes rather than full file replacement.

To proceed, I will create a plan to apply the dark web theme by replacing only the style section and the header content with the new dark web theme styles and text. This will minimize the changes and comply with the diff-based editing requirements.

I will:
1. Search for the existing <style>...</style> block and replace it with the new dark web theme CSS.
2. Search for the existing <header>...</header> block and replace it with the new header content with the dark web theme text and style.

This approach will keep the rest of the HTML and JavaScript intact and only change the visual theme.

I will now brainstorm a detailed plan for this task.
</thinking>

<brainstorm_plan>
</brainstorm_plan>
